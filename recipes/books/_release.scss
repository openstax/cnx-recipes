@function release-flag-enabled($flag_name) {
  @if not map-has-key($RELEASE_FLAGS, $flag_name) {
    @error "The flag `#{$flag_name}` has been removed or applied to all recipes";
  }
  @return map-get($RELEASE_FLAGS, $flag_name);
}

@function enable-for($list...) {
  $RECIPE_NAME: "NONE_SET" !default;
  @if $RECIPE_NAME == "NONE_SET" {
    @error "This recipe has no $RECIPE_NAME.";
  }
  @return if(index($list, $RECIPE_NAME), true, false);
}

$RELEASE_FLAGS: (
  toc-labeled-pages: enable-for(
    "additive-manufacturing",
    "principles-management",
    "accounting",
    "statistics",
    "dev-math",
    "chemistry",
    "astronomy",
    "u-physics",
    "psychology",
    "sociology",
    "american-government",
    "anatomy",
    "history",
    "microbiology",
    "entrepreneurship",
    "intro-business",
    "business-ethics",
    "economics",
    "biology",
    "college-physics",
    "ap-physics",
    "ap-biology",
    "hs-physics",
    "pl-u-physics",
    "calculus",
    "precalculus",
    "ap-history",
    "college-success",
    "pl-u-physics",
    "precalculus-coreq",
    "pl-psychology",
  ),

  chapter-page-class: enable-for(
    "additive-manufacturing",
    "principles-management",
    "accounting",
    "statistics",
    "dev-math",
    "chemistry",
    "astronomy",
    "u-physics",
    "psychology",
    "sociology",
    "american-government",
    "anatomy",
    "history",
    "microbiology",
    "entrepreneurship",
    "intro-business",
    "business-ethics",
    "economics",
    "biology",
    "college-physics",
    "ap-physics",
    "ap-biology",
    "hs-physics",
    "pl-u-physics",
    "calculus",
    "precalculus",
    "ap-history",
    "college-success",
    "pl-u-physics",
    "precalculus-coreq",
    "pl-psychology",
    ),

  toc-numbered-pages: enable-for(
    "additive-manufacturing",
    "principles-management",
    "accounting",
    "statistics",
    "dev-math",
    "chemistry",
    "astronomy",
    "u-physics",
    "psychology",
    "sociology",
    "american-government",
    "anatomy",
    "history",
    "microbiology",
    "entrepreneurship",
    "intro-business",
    "business-ethics",
    "economics",
    "biology",
    "college-physics",
    "ap-physics",
    "ap-biology",
    "hs-physics",
    "pl-u-physics",
    "calculus",
    "precalculus",
    "ap-history",
    "college-success",
    "pl-u-physics",
    "precalculus-coreq",
    "pl-psychology",
    ),

  appendix-has-numbered-examples: enable-for(
    "additive-manufacturing",
    "principles-management",
    "accounting",
    "statistics",
    "dev-math",
    "chemistry",
    "astronomy",
    "u-physics",
    "psychology",
    "sociology",
    "american-government",
    "anatomy",
    "history",
    "microbiology",
    "entrepreneurship",
    "intro-business",
    "business-ethics",
    "economics",
    "biology",
    "college-physics",
    "ap-physics",
    "ap-biology",
    "hs-physics",
    "pl-u-physics",
    "calculus",
    "precalculus",
    "ap-history",
    "college-success",
    "pl-u-physics",
    "precalculus-coreq",
    "pl-psychology",
    ),

  trash-abstract-in-preface: enable-for(
    "additive-manufacturing",
   "principles-management",
    "accounting",
    "statistics",
    "dev-math",
    "chemistry",
    "astronomy",
    "u-physics",
    "psychology",
    "sociology",
    "american-government",
    "anatomy",
    "history",
    "microbiology",
    "entrepreneurship",
    "intro-business",
    "business-ethics",
    "economics",
    "biology",
    "college-physics",
    "ap-physics",
    "ap-biology",
    "hs-physics",
    "pl-u-physics",
    "calculus",
    "precalculus",
    "ap-history",
    "college-success",
    "pl-u-physics",
    "precalculus-coreq",
    "pl-psychology",
    ),

  EOCsection-links: enable-for(
    "additive-manufacturing",
    "principles-management",
    "accounting",
    "statistics",
    "dev-math",
    "chemistry",
    "astronomy",
    "u-physics",
    "psychology",
    "sociology",
    "american-government",
    "anatomy",
    "history",
    "microbiology",
    "entrepreneurship",
    "intro-business",
    "business-ethics",
    "economics",
    "biology",
    "college-physics",
    "ap-physics",
    "ap-biology",
    "hs-physics",
    "pl-u-physics",
    "calculus",
    "precalculus",
    "ap-history",
    "college-success",
    "pl-u-physics",
    "precalculus-coreq",
    "pl-psychology",
    ),

  titles-in-examples: enable-for(
    "additive-manufacturing",
    "principles-management",
    "accounting",
    "statistics",
    "dev-math",
    "chemistry",
    "astronomy",
    "u-physics",
    "psychology",
    "sociology",
    "american-government",
    "anatomy",
    "history",
    "microbiology",
    "entrepreneurship",
    "intro-business",
    "business-ethics",
    "economics",
    "biology",
    "college-physics",
    "ap-physics",
    "ap-biology",
    "hs-physics",
    "pl-u-physics",
    "calculus",
    "precalculus",
    "ap-history",
    "college-success",
    "pl-u-physics",
    "precalculus-coreq",
    "pl-psychology",
    ),

  module-titled-notes: enable-for(
    "additive-manufacturing",
    "principles-management",
    "accounting",
    "statistics",
    "dev-math",
    "chemistry",
    "astronomy",
    "u-physics",
    "psychology",
    "sociology",
    "american-government",
    "anatomy",
    "history",
    "microbiology",
    "entrepreneurship",
    "intro-business",
    "business-ethics",
    "economics",
    "biology",
    "college-physics",
    "ap-physics",
    "ap-biology",
    "hs-physics",
    "pl-u-physics",
    "calculus",
    "precalculus",
    "ap-history",
    "college-success",
    "pl-u-physics",
    "precalculus-coreq",
    "pl-psychology",
    ),

  custom-lists: enable-for(
    "additive-manufacturing",
    "principles-management",
    "accounting",
    "statistics",
    "dev-math",
    "chemistry",
    "astronomy",
    "u-physics",
    "psychology",
    "sociology",
    "american-government",
    "anatomy",
    "history",
    "microbiology",
    "entrepreneurship",
    "intro-business",
    "business-ethics",
    "economics",
    "biology",
    "college-physics",
    "ap-physics",
    "ap-biology",
    "hs-physics",
    "pl-u-physics",
    "calculus",
    "precalculus",
    "ap-history",
    "college-success",
    "pl-u-physics",
    "precalculus-coreq",
    "pl-psychology",
    ),

  groupChapOutlineIntroContent: enable-for(
    "additive-manufacturing",
    "principles-management",
    "accounting",
    "statistics",
    "dev-math",
    "chemistry",
    "astronomy",
    "u-physics",
    "psychology",
    "sociology",
    "american-government",
    "anatomy",
    "history",
    "microbiology",
    "entrepreneurship",
    "intro-business",
    "business-ethics",
    "economics",
    "biology",
    "college-physics",
    "ap-physics",
    "ap-biology",
    "hs-physics",
    "pl-u-physics",
    "calculus",
    "precalculus",
    "ap-history",
    "college-success",
    "pl-u-physics",
    "precalculus-coreq",
    "pl-psychology",
  ),

  tagSplash: enable-for(
    "additive-manufacturing",
    "principles-management",
    "accounting",
    "statistics",
    "dev-math",
    "chemistry",
    "astronomy",
    "u-physics",
    "psychology",
    "sociology",
    "american-government",
    "anatomy",
    "history",
    "microbiology",
    "entrepreneurship",
    "intro-business",
    "business-ethics",
    "economics",
    "biology",
    "college-physics",
    "ap-physics",
    "ap-biology",
    "hs-physics",
    "pl-u-physics",
    "calculus",
    "precalculus",
    "ap-history",
    "college-success",
    "pl-u-physics",
    "precalculus-coreq",
    "pl-psychology",
  ),

  toc-title-word: enable-for(
    "additive-manufacturing",
    "principles-management",
    "accounting",
    "statistics",
    "dev-math",
    "chemistry",
    "astronomy",
    "u-physics",
    "psychology",
    "sociology",
    "american-government",
    "anatomy",
    "history",
    "microbiology",
    "entrepreneurship",
    "intro-business",
    "business-ethics",
    "economics",
    "biology",
    "college-physics",
    "ap-physics",
    "ap-biology",
    "hs-physics",
    "pl-u-physics",
    "calculus",
    "precalculus",
    "ap-history",
    "college-success",
    "pl-u-physics",
    "precalculus-coreq",
    "pl-psychology",
  ),

//this breaks the pipeline do not enable
  give-composites-ids: enable-for(
    "additive-manufacturing",
    "principles-management",
    "accounting",
    "statistics",
    "dev-math",
    "chemistry",
    "astronomy",
    "u-physics",
    "psychology",
    "sociology",
    "american-government",
    "anatomy",
    "history",
    "microbiology",
    "entrepreneurship",
    "intro-business",
    "business-ethics",
    "economics",
    "biology",
    "college-physics",
    "ap-physics",
    "ap-biology",
    "hs-physics",
    "pl-u-physics",
    "calculus",
    "precalculus",
    "ap-history",
    "college-success",
    "pl-u-physics",
    "precalculus-coreq",
    "pl-psychology",
  ),

  use-title-nodes: enable-for(
    "additive-manufacturing",
    "principles-management",
    "accounting",
    "statistics",
    "dev-math",
    "chemistry",
    "astronomy",
    "u-physics",
    "psychology",
    "sociology",
    "american-government",
    "anatomy",
    "history",
    "microbiology",
    "entrepreneurship",
    "intro-business",
    "business-ethics",
    "economics",
    "biology",
    "college-physics",
    "ap-physics",
    "ap-biology",
    "hs-physics",
    "pl-u-physics",
    "calculus",
    "precalculus",
    "ap-history",
    "college-success",
    "pl-u-physics",
    "precalculus-coreq",
    "pl-psychology",
  ),

  goodbye-warnings: enable-for(
    "additive-manufacturing",
    "principles-management",
    "accounting",
    "statistics",
    "dev-math",
    "chemistry",
    "astronomy",
    "u-physics",
    "psychology",
    "sociology",
    "american-government",
    "anatomy",
    "history",
    "microbiology",
    "entrepreneurship",
    "intro-business",
    "business-ethics",
    "economics",
    "biology",
    "college-physics",
    "ap-physics",
    "ap-biology",
    "hs-physics",
    "pl-u-physics",
    "calculus",
    "precalculus",
    "ap-history",
    "college-success",
    "pl-u-physics",
    "precalculus-coreq",
    "pl-psychology",
  ),

  toc-eoc-composite-chapter: enable-for(
    "additive-manufacturing",
    "principles-management",
    "accounting",
    "statistics",
    "dev-math",
    "chemistry",
    "astronomy",
    "u-physics",
    "psychology",
    "sociology",
    "american-government",
    "anatomy",
    "history",
    "microbiology",
    "entrepreneurship",
    "intro-business",
    "business-ethics",
    "economics",
    "biology",
    "college-physics",
    "ap-physics",
    "ap-biology",
    "hs-physics",
    "pl-u-physics",
    "calculus",
    "precalculus",
    "ap-history",
    "college-success",
    "pl-u-physics",
    "precalculus-coreq",
    "pl-psychology",
  ),

  table-move-fake-title: enable-for(
    "additive-manufacturing",
    "principles-management",
    "accounting",
    "statistics",
    "dev-math",
    "chemistry",
    "astronomy",
    "u-physics",
    "psychology",
    "sociology",
    "american-government",
    "anatomy",
    "history",
    "microbiology",
    "entrepreneurship",
    "intro-business",
    "business-ethics",
    "economics",
    "biology",
    "college-physics",
    "ap-physics",
    "ap-biology",
    "hs-physics",
    "pl-u-physics",
    "calculus",
    "precalculus",
    "ap-history",
    "college-success",
    "pl-u-physics",
    "precalculus-coreq",
    "pl-psychology",
  ),

  several-composite-chapters: enable-for(
    "additive-manufacturing",
    "principles-management",
    "accounting",
    "statistics",
    "dev-math",
    "chemistry",
    "astronomy",
    "u-physics",
    "psychology",
    "sociology",
    "american-government",
    "anatomy",
    "history",
    "microbiology",
    "entrepreneurship",
    "intro-business",
    "business-ethics",
    "economics",
    "biology",
    "college-physics",
    "ap-physics",
    "ap-biology",
    "hs-physics",
    "pl-u-physics",
    "calculus",
    "precalculus",
    "ap-history",
    "college-success",
    "pl-u-physics",
    "precalculus-coreq",
    "pl-psychology",
  ),

  subtitled-examples: enable-for(
    "additive-manufacturing",
    "principles-management",
    "accounting",
    "statistics",
    "dev-math",
    "chemistry",
    "astronomy",
    "u-physics",
    "psychology",
    "sociology",
    "american-government",
    "anatomy",
    "history",
    "microbiology",
    "entrepreneurship",
    "intro-business",
    "business-ethics",
    "economics",
    "biology",
    "college-physics",
    "ap-physics",
    "ap-biology",
    "hs-physics",
    "pl-u-physics",
    "calculus",
    "precalculus",
    "ap-history",
    "college-success",
    "pl-u-physics",
    "precalculus-coreq",
    "pl-psychology",
  ),

  exercise-first-element: enable-for(
    "additive-manufacturing",
    "principles-management",
    "accounting",
    "statistics",
    "dev-math",
    "chemistry",
    "astronomy",
    "u-physics",
    "psychology",
    "sociology",
    "american-government",
    "anatomy",
    "history",
    "microbiology",
    "entrepreneurship",
    "intro-business",
    "business-ethics",
    "economics",
    "biology",
    "college-physics",
    "ap-physics",
    "ap-biology",
    "hs-physics",
    "calculus",
    "precalculus",
    "ap-history",
    "college-success",
    "pl-u-physics",
    "precalculus-coreq",
    "pl-psychology",
  ),

  answer-key-h3: enable-for(
    "additive-manufacturing",
   "principles-management",
    "accounting",
    "statistics",
    "dev-math",
    "chemistry",
    "astronomy",
    "u-physics",
    "psychology",
    "sociology",
    "american-government",
    "anatomy",
    "history",
    "microbiology",
    "entrepreneurship",
    "intro-business",
    "business-ethics",
    "economics",
    "biology",
    "college-physics",
    "ap-physics",
    "ap-biology",
    "hs-physics",
    "calculus",
    "precalculus",
    "ap-history",
    "college-success",
    "pl-u-physics",
    "precalculus-coreq",
    "pl-psychology",
  ),

  move-footnotes: enable-for(
    "pl-u-physics",
    "business-ethics",
    "precalculus",
    "precalculus-coreq",
    "college-physics",
  ),
  //toc-comp-page-linking: enable-for("intro-business")        // this needs to be reworked to work see https://github.com/Connexions/cnx-easybake/issues/97
);
